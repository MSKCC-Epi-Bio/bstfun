% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/logistic_reg_adj_diff.R
\name{logistic_reg_adj_diff}
\alias{logistic_reg_adj_diff}
\title{Logistic regression adjusted differences}
\usage{
logistic_reg_adj_diff(
  data,
  variable,
  by,
  adj.vars,
  conf.level,
  type,
  ci_type = c("sd", "centile"),
  boot_n = 250,
  ...
)
}
\arguments{
\item{data}{a data frame}

\item{variable}{string of binary variable in \verb{data=}}

\item{by}{string of the \verb{by=} variable name}

\item{adj.vars}{character vector of variable names to adjust model for}

\item{conf.level}{Must be strictly greater than 0 and less than 1.
Defaults to 0.95, which corresponds to a 95 percent confidence interval.}

\item{type}{string indicating the summary type}

\item{ci_type}{string dictation bootstrap method for CI estimation.
Must be one of \code{c("sd", "centile")}.}

\item{boot_n}{number of bootstrap iterations to use. In most cases, it is
reasonable to used 250 for the \code{"sd"} method and 5000 for the \code{"centile"}
method.}

\item{...}{not used}
}
\value{
tibble with difference estimate
}
\description{
This function works with \code{gtsummary::add_difference()} to calculate
adjusted differences and confidence intervals based on results from a
logistic regression model. The function uses bootstrap methods to build
regression model and estimate the adjusted difference between two groups.
The CI is estimate by either using the SD from the bootstrap difference
estimates and calculating the CI assuming normality or using the centiles
of the bootstrapped differences as the confidence limits
}
\section{Example Output}{

\if{html}{Example 1}

\if{html}{\figure{logistic_reg_adj_diff_ex1.png}{options: width=80\%}}

\if{html}{Example 2}

\if{html}{\figure{logistic_reg_adj_diff_ex2.png}{options: width=80\%}}
}

\examples{
\dontshow{if (FALSE) (if (getRversion() >= "3.4") withAutoprint else force)(\{ # examplesIf}
library(gtsummary)
tbl <- tbl_summary(trial, by = trt, include  = response, missing = "no")

# Example 1 -----------------------------------------------------------------
logistic_reg_adj_diff_ex1 <-
  tbl \%>\%
  add_difference(
    test = everything() ~ logistic_reg_adj_diff,
    adj.vars = "stage"
  )

# Example 2 -----------------------------------------------------------------
# Use the centile method, and
# change the number of bootstrap resamples to perform
logistic_reg_adj_diff_ex2 <-
  tbl \%>\%
  add_difference(
    test = everything() ~
      purrr::partial(logistic_reg_adj_diff, ci_type = "centile", boot_n = 100),
    adj.vars = "stage"
  )
\dontshow{\}) # examplesIf}
}
\seealso{
Other gtsummary-related functions: 
\code{\link{add_inline_forest_plot}()},
\code{\link{add_sparkline}()},
\code{\link{as_ggplot}()},
\code{\link{style_tbl_compact}()},
\code{\link{tbl_likert}()},
\code{\link{theme_gtsummary_msk}()}
}
\concept{gtsummary-related functions}
