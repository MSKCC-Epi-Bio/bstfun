<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Logistic regression adjusted differences — logistic_reg_adj_diff • bstfun</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Logistic regression adjusted differences — logistic_reg_adj_diff"><meta property="og:description" content="This function works with gtsummary::add_difference() to calculate
adjusted differences and confidence intervals based on results from a
logistic regression model. Adjustment covariates are set to the mean to
estimate the adjusted difference. The function uses bootstrap methods to
estimate the adjusted difference between two groups.
The CI is estimate by either using the SD from the bootstrap difference
estimates and calculating the CI assuming normality or using the centiles
of the bootstrapped differences as the confidence limits
The function can also be used in add_p(), and if you do, be sure to
set boot_n = 1 to avoid long, unused computation."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bstfun</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.5.1.9003</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/MSKCC-Epi-Bio/bstfun" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Logistic regression adjusted differences</h1>
    <small class="dont-index">Source: <a href="https://github.com/MSKCC-Epi-Bio/bstfun/blob/HEAD/R/logistic_reg_adj_diff.R" class="external-link"><code>R/logistic_reg_adj_diff.R</code></a></small>
    <div class="hidden name"><code>logistic_reg_adj_diff.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function works with <code><a href="https://www.danieldsjoberg.com/gtsummary/reference/add_difference.html" class="external-link">gtsummary::add_difference()</a></code> to calculate
adjusted differences and confidence intervals based on results from a
logistic regression model. Adjustment covariates are set to the mean to
estimate the adjusted difference. The function uses bootstrap methods to
estimate the adjusted difference between two groups.
The CI is estimate by either using the SD from the bootstrap difference
estimates and calculating the CI assuming normality or using the centiles
of the bootstrapped differences as the confidence limits</p>
<p>The function can also be used in <code><a href="https://www.danieldsjoberg.com/gtsummary/reference/add_p.html" class="external-link">add_p()</a></code>, and if you do, be sure to
set <code>boot_n = 1</code> to avoid long, unused computation.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">logistic_reg_adj_diff</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">variable</span>,</span>
<span>  <span class="va">by</span>,</span>
<span>  <span class="va">adj.vars</span>,</span>
<span>  <span class="va">conf.level</span>,</span>
<span>  <span class="va">type</span>,</span>
<span>  ci_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sd"</span>, <span class="st">"centile"</span><span class="op">)</span>,</span>
<span>  boot_n <span class="op">=</span> <span class="fl">250</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>a data frame</p></dd>


<dt>variable</dt>
<dd><p>string of binary variable in <code>data=</code></p></dd>


<dt>by</dt>
<dd><p>string of the <code>by=</code> variable name</p></dd>


<dt>adj.vars</dt>
<dd><p>character vector of variable names to adjust model for</p></dd>


<dt>conf.level</dt>
<dd><p>Must be strictly greater than 0 and less than 1.
Defaults to 0.95, which corresponds to a 95 percent confidence interval.</p></dd>


<dt>type</dt>
<dd><p>string indicating the summary type</p></dd>


<dt>ci_type</dt>
<dd><p>string dictation bootstrap method for CI estimation.
Must be one of <code>c("sd", "centile")</code>.</p></dd>


<dt>boot_n</dt>
<dd><p>number of bootstrap iterations to use. In most cases, it is
reasonable to used 250 for the <code>"sd"</code> method and 5000 for the <code>"centile"</code>
method.</p></dd>


<dt>...</dt>
<dd><p>not used</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>tibble with difference estimate</p>
    </div>
    <div id="example-output">
    <h2>Example Output</h2>
    

<p>Example 1</p>
<p><img src="figures/logistic_reg_adj_diff_ex1.png" width="80%"></p>
<p>Example 2</p>
<p><img src="figures/logistic_reg_adj_diff_ex2.png" width="80%"></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other gtsummary-related functions: 
<code><a href="add_inline_forest_plot.html">add_inline_forest_plot</a>()</code>,
<code><a href="add_sparkline.html">add_sparkline</a>()</code>,
<code><a href="as_ggplot.html">as_ggplot</a>()</code>,
<code><a href="bold_italicize_group_labels.html">bold_italicize_group_labels</a>()</code>,
<code><a href="style_tbl_compact.html">style_tbl_compact</a>()</code>,
<code><a href="tbl_likert.html">tbl_likert</a>()</code>,
<code><a href="theme_gtsummary_msk.html">theme_gtsummary_msk</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ddsjoberg/gtsummary" class="external-link">gtsummary</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">tbl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://www.danieldsjoberg.com/gtsummary/reference/tbl_summary.html" class="external-link">tbl_summary</a></span><span class="op">(</span><span class="va">trial</span>, by <span class="op">=</span> <span class="va">trt</span>, include  <span class="op">=</span> <span class="va">response</span>, missing <span class="op">=</span> <span class="st">"no"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 1 -----------------------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="va">logistic_reg_adj_diff_ex1</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="va">tbl</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://www.danieldsjoberg.com/gtsummary/reference/add_difference.html" class="external-link">add_difference</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    test <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span> <span class="op">~</span> <span class="va">logistic_reg_adj_diff</span>,</span></span>
<span class="r-in"><span>    adj.vars <span class="op">=</span> <span class="st">"stage"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example 2 -----------------------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co"># Use the centile method, and</span></span></span>
<span class="r-in"><span><span class="co"># change the number of bootstrap resamples to perform</span></span></span>
<span class="r-in"><span><span class="va">logistic_reg_adj_diff_ex2</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="va">tbl</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://www.danieldsjoberg.com/gtsummary/reference/add_difference.html" class="external-link">add_difference</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    test <span class="op">=</span> <span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span> <span class="op">~</span></span></span>
<span class="r-in"><span>      <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/partial.html" class="external-link">partial</a></span><span class="op">(</span><span class="va">logistic_reg_adj_diff</span>, ci_type <span class="op">=</span> <span class="st">"centile"</span>, boot_n <span class="op">=</span> <span class="fl">100</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    adj.vars <span class="op">=</span> <span class="st">"stage"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Karissa Whiting, <a href="http://www.danieldsjoberg.com/" class="external-link">Daniel D. Sjoberg</a>, Jessica A. Lavery.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

